{
  "resourceType": "Library",
  "type": {
    "coding": [
      {
        "code": "module-definition",
        "system": "http://terminology.hl7.org/CodeSystem/library-type"
      }
    ]
  },
  "status": "unknown",
  "dataRequirement": [
    {
      "type": "Coverage",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Coverage"
      ],
      "codeFilter": [
        {
          "path": "type",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Coverage?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591&policy-holder=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Coverage?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591&subscriber=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Coverage?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591&beneficiary=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Coverage?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591&payor=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Encounter",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Encounter"
      ],
      "codeFilter": [
        {
          "path": "type",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Encounter?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001&patient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Encounter",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Encounter"
      ],
      "codeFilter": [
        {
          "path": "type",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1285"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Encounter?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1285&patient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Encounter",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Encounter"
      ],
      "codeFilter": [
        {
          "path": "type",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Encounter?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008&patient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Encounter",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Encounter"
      ],
      "codeFilter": [
        {
          "path": "type",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1014"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Encounter?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1014&patient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Encounter",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Encounter"
      ],
      "codeFilter": [
        {
          "path": "type",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1012"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Encounter?type:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1012&patient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Condition",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Condition"
      ],
      "codeFilter": [
        {
          "path": "code",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.327"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Condition?code:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.327&patient=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Condition?code:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.327&asserter=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Communication",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Communication"
      ],
      "codeFilter": [
        {
          "path": "reasonCode",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283"
        },
        {
          "path": "status",
          "code": [
            {
              "code": "not-done"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283&status=not-done&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283&status=not-done&sender=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283&status=not-done&recipient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Communication",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Communication"
      ],
      "codeFilter": [
        {
          "path": "reasonCode",
          "code": [
            {
              "system": "http://snomed.info/sct",
              "display": "Macular edema absent (situation)",
              "code": "428341000124108"
            }
          ]
        },
        {
          "path": "status",
          "code": [
            {
              "code": "not-done"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode=428341000124108&status=not-done&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode=428341000124108&status=not-done&sender=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode=428341000124108&status=not-done&recipient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Communication",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Communication"
      ],
      "codeFilter": [
        {
          "path": "reasonCode",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320"
        },
        {
          "path": "status",
          "code": [
            {
              "code": "not-done"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320&status=not-done&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320&status=not-done&sender=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320&status=not-done&recipient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Observation",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Observation"
      ],
      "codeFilter": [
        {
          "path": "code",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1251"
        },
        {
          "path": "status",
          "code": [
            {
              "code": "final",
              "system": "http://hl7.org/fhir/observation-status"
            },
            {
              "code": "amended",
              "system": "http://hl7.org/fhir/observation-status"
            },
            {
              "code": "corrected",
              "system": "http://hl7.org/fhir/observation-status"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-valueFilter",
          "extension": [
            {
              "url": "path",
              "valueString": "value"
            },
            {
              "url": "comparator",
              "valueCode": "eq"
            },
            {
              "url": "value",
              "valueString": "not null"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Observation?code:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1251&status=final&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Observation?code:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1251&status=final&performer=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Communication",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Communication"
      ],
      "codeFilter": [
        {
          "path": "reasonCode",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283"
        },
        {
          "path": "status",
          "code": [
            {
              "code": "completed"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283&status=completed&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283&status=completed&sender=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283&status=completed&recipient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Communication",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Communication"
      ],
      "codeFilter": [
        {
          "path": "reasonCode",
          "code": [
            {
              "system": "http://snomed.info/sct",
              "display": "Macular edema absent (situation)",
              "code": "428341000124108"
            }
          ]
        },
        {
          "path": "status",
          "code": [
            {
              "code": "completed"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode=428341000124108&status=completed&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode=428341000124108&status=completed&sender=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode=428341000124108&status=completed&recipient=Patient/{{context.patientId}}"
        }
      ]
    },
    {
      "type": "Communication",
      "profile": [
        "http://hl7.org/fhir/StructureDefinition/Communication"
      ],
      "codeFilter": [
        {
          "path": "reasonCode",
          "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320"
        },
        {
          "path": "status",
          "code": [
            {
              "code": "completed"
            }
          ]
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320&status=completed&subject=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320&status=completed&sender=Patient/{{context.patientId}}"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-fhirQueryPattern",
          "valueString": "/Communication?reasonCode:in=http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320&status=completed&recipient=Patient/{{context.patientId}}"
        }
      ]
    }
  ],
  "relatedArtifact": [
    {
      "type": "depends-on",
      "display": "Measure DRCommunicationWithPhysicianManagingDiabetesFHIR",
      "resource": "http://ecqi.healthit.gov/ecqms/Measure/DRCommunicationWithPhysicianManagingDiabetesFHIR"
    },
    {
      "type": "depends-on",
      "display": "FHIR model information",
      "resource": "http://fhir.org/guides/cqf/common/Library/FHIR-ModelInfo|4.0.1"
    },
    {
      "type": "depends-on",
      "display": "Library FHIRHelpers",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/FHIRHelpers|4.0.001"
    },
    {
      "type": "depends-on",
      "display": "Library SDE",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/SupplementalDataElementsFHIR4|2.0.000"
    },
    {
      "type": "depends-on",
      "display": "Library Global",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/MATGlobalCommonFunctionsFHIR4|6.1.000"
    },
    {
      "type": "depends-on",
      "display": "Code system LOINC",
      "resource": "http://loinc.org"
    },
    {
      "type": "depends-on",
      "display": "Code system SNOMEDCT",
      "resource": "http://snomed.info/sct"
    },
    {
      "type": "depends-on",
      "display": "Code system ConditionClinicalStatusCodes",
      "resource": "http://terminology.hl7.org/CodeSystem/condition-clinical"
    },
    {
      "type": "depends-on",
      "display": "Value set Care Services in Long-Term Residential Facility",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1014"
    },
    {
      "type": "depends-on",
      "display": "Value set Diabetic Retinopathy",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.327"
    },
    {
      "type": "depends-on",
      "display": "Value set Level of Severity of Retinopathy Findings",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1283"
    },
    {
      "type": "depends-on",
      "display": "Value set Macular Edema Findings Present",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1320"
    },
    {
      "type": "depends-on",
      "display": "Value set Macular Exam",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1251"
    },
    {
      "type": "depends-on",
      "display": "Value set Medical Reason",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1007"
    },
    {
      "type": "depends-on",
      "display": "Value set Nursing Facility Visit",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1012"
    },
    {
      "type": "depends-on",
      "display": "Value set Office Visit",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"
    },
    {
      "type": "depends-on",
      "display": "Value set Ophthalmological Services",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1285"
    },
    {
      "type": "depends-on",
      "display": "Value set Outpatient Consultation",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008"
    },
    {
      "type": "depends-on",
      "display": "Value set Patient Reason",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1008"
    },
    {
      "type": "depends-on",
      "display": "Value set Payer",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
    },
    {
      "type": "depends-on",
      "display": "Code system AllergyIntoleranceClinicalStatusCodes",
      "resource": "http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical"
    },
    {
      "type": "depends-on",
      "display": "Code system AllergyIntoleranceVerificationStatusCodes",
      "resource": "http://terminology.hl7.org/CodeSystem/allergyintolerance-verification"
    },
    {
      "type": "depends-on",
      "display": "Code system Diagnosis Role",
      "resource": "http://terminology.hl7.org/CodeSystem/diagnosis-role"
    },
    {
      "type": "depends-on",
      "display": "Code system MedicationRequestCategory",
      "resource": "http://terminology.hl7.org/CodeSystem/medicationrequest-category"
    },
    {
      "type": "depends-on",
      "display": "Code system ConditionVerificationStatusCodes",
      "resource": "http://terminology.hl7.org/CodeSystem/condition-ver-status"
    },
    {
      "type": "depends-on",
      "display": "Code system RoleCode",
      "resource": "http://terminology.hl7.org/CodeSystem/v3-RoleCode"
    },
    {
      "type": "depends-on",
      "display": "Value set Emergency Department Visit",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"
    },
    {
      "type": "depends-on",
      "display": "Value set Encounter Inpatient",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    },
    {
      "type": "depends-on",
      "display": "Value set Observation Services",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
    },
    {
      "type": "depends-on",
      "display": "Value set Present on Admission or Clinically Undetermined",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.197"
    },
    {
      "type": "depends-on",
      "display": "Value set Ethnicity",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.837"
    },
    {
      "type": "depends-on",
      "display": "Value set ONC Administrative Sex",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1"
    },
    {
      "type": "depends-on",
      "display": "Value set Race",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.836"
    }
  ]
}